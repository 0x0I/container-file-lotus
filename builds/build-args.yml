default_os_version: centos-7
default_git_url: https://github.com/filecoin-project/lotus.git
default_git_version: v0.2.10
default_package_manager: dnf
default_go_url: https://dl.google.com/go/go1.13.3.linux-amd64.tar.gz

build_images: false
push_images: false

# OS distribution specific build dependencies
rhel_dependencies: &rhel_sys_deps
  system_dependencies:
    - curl
    - gcc
    - make
    - findutils
    - git
    - bzr
    - jq
    - pkg-config
    - opencl-headers
    - ocl-icd-devel
rhel_dependencies: &rhel_run_deps
  run_dependencies:
    - opencl-headers
    - ocl-icd-devel
debian_dependencies: &debian_sys_deps
  system_dependencies:
    - curl
    - gcc
    - make
    - git
    - bzr
    - jq
    - pkg-config
    - mesa-opencl-icd
    - ocl-icd-opencl-dev
debian_dependencies: &debian_run_deps
  run_dependencies:
    - mesa-opencl-icd
    - ocl-icd-opencl-dev
    - ca-certificates
# Container template build matrix
build_matrix:
  - name: fedora-29
    os_version: fedora:29
    <<: *rhel_sys_deps
    <<: *rhel_run_deps
  - name: fedora-30
    os_version: fedora:30
    <<: *rhel_sys_deps
    <<: *rhel_run_deps
  - name: fedora-31
    os_version: fedora:31
    <<: *rhel_sys_deps
    <<: *rhel_run_deps
  - name: ubuntu-18.04
    os_version: ubuntu:18.04
    package_manager: apt
    <<: *debian_sys_deps
    <<: *debian_run_deps
  - name: ubuntu-19.04
    os_version: ubuntu:19.04
    package_manager: apt
    <<: *debian_sys_deps
    <<: *debian_run_deps
  - name: debian-8
    os_version: debian:8
    package_manager: apt
    <<: *debian_sys_deps
    <<: *debian_run_deps
  - name: debian-9
    os_version: debian:9
    package_manager: apt
    <<: *debian_sys_deps
    <<: *debian_run_deps
